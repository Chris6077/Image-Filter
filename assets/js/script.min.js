$(document).ready(function(){
	AOS.init({ disable: 'mobile' });
});
$("document").ready(function(){
	$("#picture").on("change", upload);
    $("#sub").on("click", upload);
	$("#r").on("click", red);
	$("#g").on("click", green);
	$("#b").on("click", blue);
	$("#alpha").on("click", alpha);
});
let upload = function(){
	var fr = new FileReader();
	let img = new Image();
	fr.onload = function () {
		img.src = "" + fr.result;
		let canvas = $("#originalcanvas")[0];
		let context = canvas.getContext("2d");
		context.drawImage(img,0,0);
		let fcanvas = $("#filteredcanvas")[0];
		let fcontext = fcanvas.getContext("2d");
		fcontext.drawImage(img,0,0);
	}
	fr.readAsDataURL($("#picture")[0].files[0]);
}
let red = function(){
	let can = $("#originalcanvas")[0];
    let imageData = can.getContext("2d").getImageData(0,0,can.width, can.height);
    let data = imageData.data;
    for (i = 0; i < data.length; i+=4) {
		data[i+1] = 0;
		data[i+2] = 0;
    }
    imageData.data = data;
    $("#filteredcanvas")[0].getContext("2d").putImageData(imageData,0,0);
}
let green = function(){
	let can = $("#originalcanvas")[0];
    let imageData = can.getContext("2d").getImageData(0,0,can.width, can.height);
    let data = imageData.data;
    for (i = 0; i < data.length; i+=4) {
		data[i] = 0;
		data[i+2] = 0;
    }
    imageData.data = data;
    $("#filteredcanvas")[0].getContext("2d").putImageData(imageData,0,0);
}
let blue = function(){
	let can = $("#originalcanvas")[0];
    let imageData = can.getContext("2d").getImageData(0,0,can.width, can.height);
    let data = imageData.data;
    for (i = 0; i < data.length; i+=4) {
		data[i] = 0;
		data[i+1] = 0;
    }
    imageData.data = data;
    $("#filteredcanvas")[0].getContext("2d").putImageData(imageData,0,0);
}
let alpha = function(){
	let can = $("#originalcanvas")[0];
    let imageData = can.getContext("2d").getImageData(0,0,can.width, can.height);
    let data = imageData.data;
    for (i = 0; i < data.length; i+=4) {
		data[i] = 0;
		data[i+1] = 0;
		data[i+2] = 0;
    }
    imageData.data = data;
    $("#filteredcanvas")[0].getContext("2d").putImageData(imageData,0,0);
}
